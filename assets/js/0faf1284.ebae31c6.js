"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[551],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=p(n),d=o,h=m["".concat(s,".").concat(d)]||m[d]||c[d]||r;return n?i.createElement(h,a(a({ref:t},u),{},{components:n})):i.createElement(h,a({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var p=2;p<r;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9690:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return u},default:function(){return m}});var i=n(7462),o=n(3366),r=(n(7294),n(3905)),a=["components"],l={sidebar_position:4},s="Useful Local Scripts",p={unversionedId:"dev/serverless/utilities",id:"dev/serverless/utilities",isDocsHomePage:!1,title:"Useful Local Scripts",description:"Some extra functions in case something goes wrong or some data needs to be double checked.",source:"@site/docs/dev/serverless/utilities.md",sourceDirName:"dev/serverless",slug:"/dev/serverless/utilities",permalink:"/documentation/docs/dev/serverless/utilities",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/dev/serverless/utilities.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Get Hybrid Participants",permalink:"/documentation/docs/dev/serverless/hybrid"},next:{title:"Using the edu-hub platform",permalink:"/documentation/docs/users/start"}},u=[{value:"Get Zoom users",id:"get-zoom-users",children:[],level:2},{value:"Get Zoom meetings",id:"get-zoom-meetings",children:[],level:2},{value:"Get participants of more meetings",id:"get-participants-of-more-meetings",children:[],level:2},{value:"Get report of single Zoom meeting",id:"get-report-of-single-zoom-meeting",children:[],level:2},{value:"Zoom API file (<code>zoomapi.py</code>)",id:"zoom-api-file-zoomapipy",children:[],level:2},{value:"Input/Ouptut Functions (<code>utils_IO.py</code>)",id:"inputouptut-functions-utils_iopy",children:[],level:2}],c={toc:u};function m(e){var t=e.components,n=(0,o.Z)(e,a);return(0,r.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"useful-local-scripts"},"Useful Local Scripts"),(0,r.kt)("p",null,"Some extra functions in case something goes wrong or some data needs to be double checked.\nThey are meant to be used as local python scripts to download attendances in ",(0,r.kt)("inlineCode",{parentName:"p"},".csv")," (human-readable) or ",(0,r.kt)("inlineCode",{parentName:"p"},".json")," (to upload) files."),(0,r.kt)("p",null,"These files (and the README) are available in their own repository ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/edu-hub-project/attendance-scripts"},"attendance-scripts"),"."),(0,r.kt)("h2",{id:"get-zoom-users"},"Get Zoom users"),(0,r.kt)("p",null,"It generates a .csv for each user (of the Zoom account) with the info about the user (id, name, emails).\nLaunch with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"python get_zoom_users.py\n")),(0,r.kt)("p",null,"It requires:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"the zoomapi module (the zoomapi.py file in the repo)"),(0,r.kt)("li",{parentName:"ul"},"the config.yaml file with the secrets."),(0,r.kt)("li",{parentName:"ul"},"the utils_IO module (the utils_IO.py file), actually only one line to read the yaml file")),(0,r.kt)("h2",{id:"get-zoom-meetings"},"Get Zoom meetings"),(0,r.kt)("p",null,"It generates a .csv for each user (of the Zoom account) with the meeting that the user created (some information like topic and time are written).\nLaunch with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"python get_zoom_meetings.py\n")),(0,r.kt)("p",null,"It requires:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"the zoomapi module (the zoomapi.py file in the repo)"),(0,r.kt)("li",{parentName:"ul"},"the config.yaml file with the secrets."),(0,r.kt)("li",{parentName:"ul"},"the utils_IO module (the utils_IO.py file), actually only one line to read the yaml file")),(0,r.kt)("h2",{id:"get-participants-of-more-meetings"},"Get participants of more meetings"),(0,r.kt)("p",null,"It generates a file with names of participaants of all the meetings.\nLaunch with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"python get_participants_csv.py zoom-meetings.csv\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"python get_participants_json.py zoom-meetings.csv\n")),(0,r.kt)("p",null,"depending whether you want the results on ",(0,r.kt)("inlineCode",{parentName:"p"},".csv")," or ",(0,r.kt)("inlineCode",{parentName:"p"},".json")," files.\nThe json version is slightly different because it was meant to be compatible with the upload in the platform."),(0,r.kt)("p",null,"NOTE: You can also launch only with ",(0,r.kt)("inlineCode",{parentName:"p"},"python get_participants_csv.py")," without specifiying the path to the ",(0,r.kt)("inlineCode",{parentName:"p"},".csv")," file, then it will try to read the standard one (",(0,r.kt)("inlineCode",{parentName:"p"},"zoom-meetings-id_wise2122.csv"),"). To change this, check line 11 of the code."),(0,r.kt)("p",null,"It reads all the meeting related to a single course (from zoom) and saves a single file with all meeting (each meeting is a row with date and the names of the participants).\nIt works with multiple courses, so if you list all the courses and launch it once, it will save one file for each course"),(0,r.kt)("p",null,"It requires a ",(0,r.kt)("inlineCode",{parentName:"p"},".csv")," file with the following information:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"title_course,\nid_course,\nlink_zoom-meeting,\ntime-start\n")),(0,r.kt)("p",null,"Actually, ",(0,r.kt)("inlineCode",{parentName:"p"},"id_course")," is not yet used, so it can be skipped."),(0,r.kt)("p",null,"Example (without ",(0,r.kt)("inlineCode",{parentName:"p"},"id_course"),", see the double ",(0,r.kt)("inlineCode",{parentName:"p"},","),"):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"VR Sessions Part II - 3,,23137084582,2020-12-18T16:55:37Z,2020-12-18T17:00:00Z\n")),(0,r.kt)("p",null,"(the zoom meeting was changed, it's most likely not valid). Of course you can write more than one course, just one for each line."),(0,r.kt)("h2",{id:"get-report-of-single-zoom-meeting"},"Get report of single Zoom meeting"),(0,r.kt)("p",null,"Wrapper in a single file (no dependencies from other file in the directory, if needed to be uploaded in gcloud) to get the participants report of a single meeting (if the meeting is recurrent, it gets only the last one) using the ",(0,r.kt)("a",{parentName:"p",href:"https://marketplace.zoom.us/docs/api-reference/zoom-api/reports/reportmeetingparticipants"},(0,r.kt)("inlineCode",{parentName:"a"},"get /report/meetings/{meetingId}/participants")," method from the Zoom API"),".\nIt expects two arguments, one string for the name of the meeting and the zoom link (in this order). Link can be full address or only meeting id."),(0,r.kt)("p",null,"Launch with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'python3 standalone_get_single_meeting_participants.py "course name" "meeting id or link"\n')),(0,r.kt)("p",null,"It saves a report from a single meeting, both in a human readable ",(0,r.kt)("inlineCode",{parentName:"p"},".csv")," and a ",(0,r.kt)("inlineCode",{parentName:"p"},".json")," that was uploaded in the old platform (unsure if this will still be relevant, but usually easier to manipulate via code)."),(0,r.kt)("p",null,"There is another version which also includes the time in the information of the meeting. Because of this, the information changes slightly.\nIt does not give back the participant reports, it gives back a full report of the meeting calling the ",(0,r.kt)("a",{parentName:"p",href:"https://marketplace.zoom.us/docs/api-reference/zoom-api/meetings/meeting"},(0,r.kt)("inlineCode",{parentName:"a"},"get /meetings/{meetingId}")," method of the Zoom API"),".\nIt expects the same arguments."),(0,r.kt)("p",null,"Launch with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'python3 standalone_get_single_meeting_participants_with_time.py "course name" "meeting id or link"\n')),(0,r.kt)("p",null,"It requires the ",(0,r.kt)("inlineCode",{parentName:"p"},"meeting_id")," (the zoom one). At the moment it does not include limesurvey."),(0,r.kt)("h2",{id:"zoom-api-file-zoomapipy"},"Zoom API file (",(0,r.kt)("inlineCode",{parentName:"h2"},"zoomapi.py"),")"),(0,r.kt)("p",null,"Methods to communicate with the Zoom API to get users, meetings and participants"),(0,r.kt)("h2",{id:"inputouptut-functions-utils_iopy"},"Input/Ouptut Functions (",(0,r.kt)("inlineCode",{parentName:"h2"},"utils_IO.py"),")"),(0,r.kt)("p",null,"Utility functions to read and write csv and YAML file (config)"))}m.isMDXComponent=!0}}]);